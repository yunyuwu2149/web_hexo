{"title":"Ping localhost 结果为 ::1，导致网络通讯故障","uid":"d9d72480c3a319b86a6b8ee22638f921","slug":"Ping localhost 结果为 ::1，导致网络通讯故障","date":"2023-04-27T02:07:05.000Z","updated":"2023-04-27T02:10:57.452Z","comments":true,"path":"api/articles/Ping localhost 结果为 ::1，导致网络通讯故障.json","keywords":null,"cover":"https://image.yunyuwu.cn/imgurl/lskypro/2023/04/27/6449d98538014.png","content":"<h2 id=\"起因\"><a href=\"#起因\" class=\"headerlink\" title=\"起因\"></a>起因</h2><p>由于需要在本地调试一个项目，安装了 <a href=\"https://www.xp.cn/\">小皮面板（phpstudy_pro）</a> 调试过后就关闭了小皮面板，再过了几天再次打开小皮面板启动环境后调试时，发现<code>localhost</code>以及<code>127.0.0.1``都无法访问，提示找不到页面404，检查hosts文件也没有发现问题。 然后打开cmd窗口</code>ping localhost&#96;时发现了问题</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">正在 Ping DESKTOP-4KB0MUI [::1] 具有 32 字节的数据:\n来自 ::1 的回复: 时间&lt;1ms\n来自 ::1 的回复: 时间&lt;1ms\n来自 ::1 的回复: 时间&lt;1ms\n\n::1 的 Ping 统计信息：\n    数据包：已发送&#x3D;4，已接收&#x3D;4，丢失&#x3D;0(0%丢失)，\n往返行程的估计时间（以毫秒为单位）：\n最短 &#x3D; 0ms,最长 &#x3D; 0ms,平均 &#x3D; 0ms</code></pre>\n\n<h2 id=\"问题原因\"><a href=\"#问题原因\" class=\"headerlink\" title=\"问题原因\"></a>问题原因</h2><p>Windows中的<code>IPv6 DNS解析</code>优先级高于<code>IPv4 DNS解析</code></p>\n<h2 id=\"解决方法\"><a href=\"#解决方法\" class=\"headerlink\" title=\"解决方法\"></a>解决方法</h2><h3 id=\"1-第一步\"><a href=\"#1-第一步\" class=\"headerlink\" title=\"1.第一步\"></a>1.第一步</h3><p>以<code>管理员身份运行cmd</code>查看优先级列表命令：<br><code>netsh interface ipv6 show prefixpolicies</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">C:\\Users\\小北&gt;netsh interface ipv6 show prefixpolicies\n查询活动状态...\n\n优先顺序    标签   前缀\n----------  -----  --------------------------------\n        50      0  ::1&#x2F;128\n        40      1  ::&#x2F;0            #此处::&#x2F;0为IPv6\n        35      2  ::ffff:0:0&#x2F;96   #此处::ffff:0:0&#x2F;96为IPv4\n        30      4  2002::&#x2F;16\n        10      5  2001::&#x2F;32\n         5      13  fc00::&#x2F;7\n         3      11  fec0::&#x2F;10\n         1      12  3ffe::&#x2F;16\n         1      3  ::&#x2F;96           #此处::&#x2F;96为IPv4</code></pre>\n\n<h3 id=\"2-第二步\"><a href=\"#2-第二步\" class=\"headerlink\" title=\"2.第二步\"></a>2.第二步</h3><p>复制下方代码到cmd窗口依次执行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">netsh int ipv6 set prefix ::&#x2F;96 50 0\nnetsh int ipv6 set prefix ::ffff:0:0&#x2F;96 40 1\nnetsh int ipv6 set prefix 2002::&#x2F;16 35 2\nnetsh int ipv6 set prefix 2001::&#x2F;32 30 3\nnetsh int ipv6 set prefix ::1&#x2F;128 10 4\nnetsh int ipv6 set prefix ::&#x2F;0 5 5\nnetsh int ipv6 set prefix fc00::&#x2F;7 3 13\nnetsh int ipv6 set prefix fec0::&#x2F;10 1 11\nnetsh int ipv6 set prefix 3ffe::&#x2F;16 1 12</code></pre>\n\n<p>返回如下值</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">C:\\Windows\\System32&gt;netsh int ipv6 set prefix ::&#x2F;96 50 0\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix ::ffff:0:0&#x2F;96 40 1\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix 2002::&#x2F;16 35 2\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix 2001::&#x2F;32 30 3\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix ::1&#x2F;128 10 4\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix ::&#x2F;0 5 5\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix fc00::&#x2F;7 3 13\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix fec0::&#x2F;10 1 11\n确定\nC:\\Windows\\System32&gt;netsh int ipv6 set prefix 3ffe::&#x2F;16 1 12\n确定</code></pre>\n\n<h3 id=\"3-第三步\"><a href=\"#3-第三步\" class=\"headerlink\" title=\"3.第三步\"></a>3.第三步</h3><p>再次查看优先值<code>netsh interface ipv6 show prefixpolicies</code><br>返回如下值</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">C:\\Users\\小北&gt;netsh interface ipv6 show prefixpolicies\n查询活动状态...\n\n优先顺序    标签   前缀\n----------  -----  --------------------------------\n        50      0  ::&#x2F;96\n        40      1  ::ffff:0:0&#x2F;96\n        35      2  2002::&#x2F;16\n        30      3  2001::&#x2F;32\n        10      4  ::1&#x2F;128\n         5      5  ::&#x2F;0\n         3     13  fc00::&#x2F;7\n         1     12  3ffe::&#x2F;16\n         1     11  fec0::&#x2F;10\n</code></pre>\n\n<h3 id=\"4-第四步\"><a href=\"#4-第四步\" class=\"headerlink\" title=\"4.第四步\"></a>4.第四步</h3><p><code>ping localhost</code><br>返回</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">C:\\Users\\小北&gt;ping localhost\n\n正在 Ping DESKTOP-4KB0MUI [127.0.0.1] 具有 32 字节的数据:\n来自 127.0.0.1 的回复: 字节&#x3D;32 时间&lt;1ms TTL&#x3D;128\n来自 127.0.0.1 的回复: 字节&#x3D;32 时间&lt;1ms TTL&#x3D;128\n来自 127.0.0.1 的回复: 字节&#x3D;32 时间&lt;1ms TTL&#x3D;128\n来自 127.0.0.1 的回复: 字节&#x3D;32 时间&lt;1ms TTL&#x3D;128\n\n127.0.0.1 的 Ping 统计信息:\n    数据包: 已发送 &#x3D; 4，已接收 &#x3D; 4，丢失 &#x3D; 0 (0% 丢失)，\n往返行程的估计时间(以毫秒为单位):\n    最短 &#x3D; 0ms，最长 &#x3D; 0ms，平均 &#x3D; 0ms</code></pre>\n<p>至此该问题解决，可以正常访问<code>127.0.0.1</code>及<code>localhost</code>。</p>\n<p>参考文献：</p>\n<ol>\n<li><a href=\"https://blog.csdn.net/weixin_36872950/article/details/95357937\">https://blog.csdn.net/weixin_36872950/article/details/95357937</a></li>\n</ol>\n","text":"起因由于需要在本地调试一个项目，安装了 小皮面板（phpstudy_pro） 调试过后就关闭了小皮面板，再过了几天再次打开小皮面板启动环境后调试时，发现localhost以及127.0.0.1``都无法访问，提示找不到页面404，检查hosts文件也没有发现问题。 然后打开cmd...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"疑难杂症","slug":"疑难杂症","count":4,"path":"api/categories/疑难杂症.json"},{"name":"Win10","slug":"疑难杂症/Win10","count":4,"path":"api/categories/疑难杂症/Win10.json"}],"tags":[{"name":"win的小问题","slug":"win的小问题","count":2,"path":"api/tags/win的小问题.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%B5%B7%E5%9B%A0\"><span class=\"toc-text\">起因</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0\"><span class=\"toc-text\">问题原因</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">解决方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E7%AC%AC%E4%B8%80%E6%AD%A5\"><span class=\"toc-text\">1.第一步</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E7%AC%AC%E4%BA%8C%E6%AD%A5\"><span class=\"toc-text\">2.第二步</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E7%AC%AC%E4%B8%89%E6%AD%A5\"><span class=\"toc-text\">3.第三步</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E7%AC%AC%E5%9B%9B%E6%AD%A5\"><span class=\"toc-text\">4.第四步</span></a></li></ol></li></ol>","author":{"name":"小北","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2149264593&s=640","link":"/","description":"云起云散雾不止 <br /> @ <b>公众号：云与雾科技</b>","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/","juejin":"https://juejin.cn/","customs":{}}},"mapped":true,"prev_post":{"title":"fastboot模式无法连接电脑","uid":"82aa12966308ba5ae61baf954f363c6c","slug":"fastboot模式无法连接电脑","date":"2023-04-27T02:11:56.000Z","updated":"2023-04-27T02:17:46.468Z","comments":true,"path":"api/articles/fastboot模式无法连接电脑.json","keywords":null,"cover":"https://image.yunyuwu.cn/imgurl/lskypro/2023/04/27/6449db2e03476.png","text":"问题解决在fastboot模式，miui手机无法连接到电脑的问题提示代码： &lt; waiting for any device &gt; 解决方法1.打开设备管理器fastboot模式下手机连接电脑，打开设备管理器 2.选择设备点击其他设备，选择Android右击鼠标 3.找...","link":"","photos":[],"count_time":{"symbolsCount":268,"symbolsTime":"1 mins."},"categories":[{"name":"疑难杂症","slug":"疑难杂症","count":4,"path":"api/categories/疑难杂症.json"},{"name":"Win10","slug":"疑难杂症/Win10","count":4,"path":"api/categories/疑难杂症/Win10.json"}],"tags":[{"name":"疑难杂症","slug":"疑难杂症","count":2,"path":"api/tags/疑难杂症.json"}],"author":{"name":"小北","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2149264593&s=640","link":"/","description":"云起云散雾不止 <br /> @ <b>公众号：云与雾科技</b>","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/","juejin":"https://juejin.cn/","customs":{}}}},"next_post":{"title":"MathWorks MATLAB R2022b","uid":"de0361d73f1497ff186691fc815d87dd","slug":"MathWorks MATLAB R2022b","date":"2023-04-27T02:04:27.000Z","updated":"2023-04-27T02:06:05.217Z","comments":true,"path":"api/articles/MathWorks MATLAB R2022b.json","keywords":null,"cover":"https://image.yunyuwu.cn/typecho/uploads/2022/10/2534399832.png","text":"MathWorks MATLABMATLAB是美国MathWorks公司出品的商业数学软件，用于数据分析、无线通信、深度学习、图像处理与计算机视觉、信号处理、量化金融与风险管理、机器人，控制系统等领域。MATLAB是matrix&amp;laboratory两个词的组合，意为矩阵...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"实用软件","slug":"实用软件","count":5,"path":"api/categories/实用软件.json"}],"tags":[{"name":"实用软件","slug":"实用软件","count":5,"path":"api/tags/实用软件.json"}],"author":{"name":"小北","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2149264593&s=640","link":"/","description":"云起云散雾不止 <br /> @ <b>公众号：云与雾科技</b>","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/","juejin":"https://juejin.cn/","customs":{}}}}}