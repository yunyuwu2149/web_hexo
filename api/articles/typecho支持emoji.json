{"title":"Typecho支持emoji","uid":"6f2386355e5d25069f49b792adc71cd7","slug":"typecho支持emoji","date":"2023-04-26T12:52:58.000Z","updated":"2023-04-26T13:05:52.552Z","comments":true,"path":"api/articles/typecho支持emoji.json","keywords":null,"cover":"http:///p4.qhimg.com/t015b4d2e1b681ad032.jpg","content":"<h2 id=\"开篇\"><a href=\"#开篇\" class=\"headerlink\" title=\"开篇\"></a>开篇</h2><p>今天也是突发奇想的购买更换了一个主题，虽然破费了我兜里仅有的58r。但有一说一的是这主题确实不错，唯一不足之处就是没能让作者把他的审美传授给我，这主题实在是太棒了， 233333333~</p>\n<h2 id=\"问题的浮现\"><a href=\"#问题的浮现\" class=\"headerlink\" title=\"问题的浮现\"></a>问题的浮现</h2><p>在使用了该主题之后看到搭配emoji表情可以让改主题更加美观~，于是我就上了，结果在将emoji表情放进去保存的时候，突如其来的<code>Database Query Error</code>报错让我措手不及。就这样的小问题怎么能够阻止我这样的好奇宝宝呢？</p>\n<hr>\n<p>于是我抓紧时间问起了度娘。最后的结果是：在 MySQL 中，UTF-8只支持最多 3 个字节，而 emoji 是 4 个字节。 Typecho默认不支持emoji表情，其实不是程序的锅，而是由于编码的问题，只需要将默认的数据库编码utf8修改为utf8mb4即可，当然别忘了，utf8mb4编码只有在PHP5.5以后才支持。. 简单两步即可让typecho支持emoji.<br>那么既然知道了问题的所在，就应该去着手解决了吧</p>\n<hr>\n<h2 id=\"解决办法：\"><a href=\"#解决办法：\" class=\"headerlink\" title=\"解决办法：\"></a>解决办法：</h2><h3 id=\"第一步\"><a href=\"#第一步\" class=\"headerlink\" title=\"第一步\"></a>第一步</h3><p>1.首先我们进入数据库控制面板，然后点击我们博客对应的数据库。（楼主这边的是yywbk）<img src=\"https://blog.yunyuwu.cn/usr/uploads/2021/12/4127938500.png\" alt=\"数据库控制面板1.png\"></p>\n<h3 id=\"第二步\"><a href=\"#第二步\" class=\"headerlink\" title=\"第二步\"></a>第二步</h3><p>2.然后我们点击sql并将我们的代码粘贴进去点击右下角的执行按钮!<br><img src=\"https://blog.yunyuwu.cn/usr/uploads/2021/12/1131733029.png\" alt=\"数据库控制面板2.png\"></p>\n<pre class=\"line-numbers language-roomsql\" data-language=\"roomsql\"><code class=\"language-roomsql\">alter table typecho_comments convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_contents convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_fields convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_metas convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_options convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_meting convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_relationships convert to character set utf8mb4 collate utf8mb4_general_ci;\nalter table typecho_users convert to character set utf8mb4 collate utf8mb4_general_ci;</code></pre>\n\n<h3 id=\"第三步\"><a href=\"#第三步\" class=\"headerlink\" title=\"第三步\"></a>第三步</h3><p>3.我们到网站的根目录下找到<code>config.inc.php</code>在其中的六十行左右我们可以看到如下代码，然后我们将其替换掉</p>\n<pre class=\"line-numbers language-php\" data-language=\"php\"><code class=\"language-php\">&#x2F;** 定义数据库参数 *&#x2F;\n$db &#x3D; new Typecho_Db(&#39;Pdo_Mysql&#39;, &#39;typecho_&#39;);\n$db-&gt;addServer(array (\n&#39;host&#39; &#x3D;&gt; &#39;localhost&#39;,\n&#39;user&#39; &#x3D;&gt; &#39;这是你的数据库名&#39;,\n&#39;password&#39; &#x3D;&gt; &#39;你数据的密码&#39;,\n&#39;charset&#39; &#x3D;&gt; &#39;utf8mb4&#39;, &#x2F;&#x2F; 将原来的utf8修改为 utf8mb4\n&#39;port&#39; &#x3D;&gt; &#39;这是你的数据库端口&#39;,\n&#39;database&#39; &#x3D;&gt; &#39;这是你的数据库名&#39;,</code></pre>\n\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>这样我们就可以在typecho中自由自在的使用emoji表情了，那让我们开始实践吧。</p>\n","text":"开篇今天也是突发奇想的购买更换了一个主题，虽然破费了我兜里仅有的58r。但有一说一的是这主题确实不错，唯一不足之处就是没能让作者把他的审美传授给我，这主题实在是太棒了， 233333333~ 问题的浮现在使用了该主题之后看到搭配emoji表情可以让改主题更加美观~，于是我就上了，...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"Note","slug":"Note","count":16,"path":"api/categories/Note.json"},{"name":"Typecho","slug":"Note/Typecho","count":1,"path":"api/categories/Note/Typecho.json"},{"name":"Mysql","slug":"Note/Mysql","count":1,"path":"api/categories/Note/Mysql.json"}],"tags":[{"name":"Note","slug":"Note","count":14,"path":"api/tags/Note.json"},{"name":"Typecho","slug":"Typecho","count":1,"path":"api/tags/Typecho.json"},{"name":"Mysql","slug":"Mysql","count":1,"path":"api/tags/Mysql.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%80%E7%AF%87\"><span class=\"toc-text\">开篇</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98%E7%9A%84%E6%B5%AE%E7%8E%B0\"><span class=\"toc-text\">问题的浮现</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%EF%BC%9A\"><span class=\"toc-text\">解决办法：</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%80%E6%AD%A5\"><span class=\"toc-text\">第一步</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5\"><span class=\"toc-text\">第二步</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC%E4%B8%89%E6%AD%A5\"><span class=\"toc-text\">第三步</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol>","author":{"name":"小北","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2149264593&s=640","link":"/","description":"云起云散雾不止 <br /> @ <b>公众号：云与雾科技</b>","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/","juejin":"https://juejin.cn/","customs":{}}},"mapped":true,"prev_post":{"title":"手把手教你获取免费域名","uid":"be217c1522293fe11dc3486dd91b1066","slug":"手把手教你获取免费域名","date":"2023-04-26T13:13:37.000Z","updated":"2023-04-26T13:25:52.567Z","comments":true,"path":"api/articles/手把手教你获取免费域名.json","keywords":null,"cover":"https://image.yunyuwu.cn/imgurl/lskypro/2023/04/26/644924c99778e.png","text":"开篇建站最不能缺的是什么？当然是服务器以及域名了，这两个可谓是重中之重、缺一不可。有些新手站长入坑的时候，可能因为各种各样的原因，没有属于自己的顶级域名。可能是因为是学生党没有money，国内注册商域名价格从几元到几千元都有。那我们能不能从一些地方注册免费域名呢？当然是可以的，在...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"杂谈","slug":"杂谈","count":2,"path":"api/categories/杂谈.json"},{"name":"建站那些事","slug":"杂谈/建站那些事","count":1,"path":"api/categories/杂谈/建站那些事.json"}],"tags":[{"name":"杂谈","slug":"杂谈","count":2,"path":"api/tags/杂谈.json"},{"name":"域名","slug":"域名","count":1,"path":"api/tags/域名.json"}],"author":{"name":"小北","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2149264593&s=640","link":"/","description":"云起云散雾不止 <br /> @ <b>公众号：云与雾科技</b>","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/","juejin":"https://juejin.cn/","customs":{}}}},"next_post":{"title":"css基础第二弹","uid":"9c45969b7c7c621dbc44b056189b4af6","slug":"css基础第二弹","date":"2023-04-26T12:42:57.000Z","updated":"2023-04-26T12:49:44.781Z","comments":true,"path":"api/articles/css基础第二弹.json","keywords":null,"cover":"https://image.yunyuwu.cn/typecho/uploads/2022/02/2707710197.png","text":"css基础第二弹一、emmet语法1、简介Emmet语法的前身是Zen coding,它使用缩写,来提高html&#x2F;css的编写速度, Vscode内部已经集成该语法。快速生成HTML结构语法快速生成CSS样式语法 2、快速生成HTML结构语法 生成标签 直接输入标签名 ...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"Note","slug":"Note","count":16,"path":"api/categories/Note.json"},{"name":"CSS","slug":"Note/CSS","count":2,"path":"api/categories/Note/CSS.json"}],"tags":[{"name":"Note","slug":"Note","count":14,"path":"api/tags/Note.json"},{"name":"CSS","slug":"CSS","count":2,"path":"api/tags/CSS.json"}],"author":{"name":"小北","slug":"blog-author","avatar":"https://q1.qlogo.cn/g?b=qq&nk=2149264593&s=640","link":"/","description":"云起云散雾不止 <br /> @ <b>公众号：云与雾科技</b>","socials":{"github":"https://github.com/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/","zhihu":"https://www.zhihu.com/","csdn":"https://blog.csdn.net/","juejin":"https://juejin.cn/","customs":{}}}}}